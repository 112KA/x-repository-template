# Testing Requirements

## 最小テストカバレッジ：80%

テストタイプ（すべて必須）：

1. **ユニットテスト** - 個別の関数、ユーティリティ、コンポーネント
2. **統合テスト** - APIエンドポイント、データベース操作
3. **E2Eテスト** - クリティカルなユーザーフロー（Playwright）

## テスト駆動開発 (TDD)

必須のワークフロー：

1. 最初にテストを書く (RED)
2. テストを実行する - 失敗することを確認
3. 最小限の実装を書く (GREEN)
4. テストを実行する - パスすることを確認
5. リファクタリング (IMPROVE)
6. カバレッジを確認する (80%以上)

## テスト失敗のトラブルシューティング

1. **tdd-guide** エージェントを使用する
2. テストの分離を確認する
3. モックが正しいか検証する
4. テストではなく実装を修正する（テスト自体が間違っている場合を除く）

## エージェントサポート

- **tdd-guide** - 新機能に対してプロアクティブに使用し、テストファーストを徹底させる
- **e2e-runner** - Playwright E2Eテストのスペシャリスト
